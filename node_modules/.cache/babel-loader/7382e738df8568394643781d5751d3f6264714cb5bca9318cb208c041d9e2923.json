{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebPhotoApp\\\\sandbox\\\\src\\\\components\\\\UserPhotos\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { Grid, Card, CardMedia, CardContent, Typography, TextField } from \"@mui/material\";\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserPhotos() {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const [loggedInUser, setLoggedInUser] = useState();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8081/admin/loginUser\", {\n          withCredentials: true\n        });\n        const loggedInUserInfoModel = {\n          _id: response.data._id,\n          first_name: response.data.first_name,\n          last_name: response.data.last_name\n        };\n        setLoggedInUser(loggedInUserInfoModel);\n        setIsLoggedIn(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const userPhotos = await axios(`http://localhost:8081/api/photo/photosOfUser/${userId}`, {\n          withCredentials: true\n        });\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n      } catch (er) {\n        console.log(er);\n      }\n    };\n    try {\n      fetchData();\n    } catch (er) {\n      console.log(er);\n    }\n  }, []);\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\"\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2,\n    children: userPhotos.map(photo => /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      md: 6,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          component: \"img\",\n          image: require(`../../images/${photo.file_name}`),\n          alt: photo.file_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [\"Date: \", formatDate(photo.date_time)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: [\"Comments: \", /*#__PURE__*/_jsxDEV(AddCommentBox, {\n              photoId: photo._id,\n              userId: loggedInUser.userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), photo.comments && photo.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: formatDate(comment.date_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/users/${comment.user._id}`,\n                children: `${comment.user.first_name} ${comment.user.last_name}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 23\n              }, this), \": \", comment.comment]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this)]\n          }, comment._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, photo._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPhotos, \"kLXgKF/7acUcFMyK6BPsbxVwNIQ=\", false, function () {\n  return [useParams];\n});\n_c = UserPhotos;\nexport default UserPhotos;\nvar _c;\n$RefreshReg$(_c, \"UserPhotos\");","map":{"version":3,"names":["Grid","Card","CardMedia","CardContent","Typography","TextField","useParams","Link","axios","React","useState","useEffect","AddCommentBox","jsxDEV","_jsxDEV","UserPhotos","_s","userId","loggedInUser","setLoggedInUser","userPhotos","setUserPhotos","isLoggedIn","setIsLoggedIn","fetchUserInfo","response","get","withCredentials","loggedInUserInfoModel","_id","data","first_name","last_name","err","console","log","fetchData","er","formatDate","dateString","date","Date","options","year","month","day","hour","minute","Intl","DateTimeFormat","format","container","spacing","children","map","photo","item","xs","md","component","image","require","file_name","alt","fileName","_jsxFileName","lineNumber","columnNumber","variant","date_time","photoId","comments","comment","to","user","_c","$RefreshReg$"],"sources":["D:/WebPhotoApp/sandbox/src/components/UserPhotos/index.jsx"],"sourcesContent":["import { Grid, Card, CardMedia, CardContent, Typography, TextField } from \"@mui/material\";\n\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\nfunction UserPhotos() {\n  const { userId } = useParams();\n  const [loggedInUser, setLoggedInUser] = useState();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8081/admin/loginUser\", {withCredentials: true});\n        const loggedInUserInfoModel = {\n          _id: response.data._id,\n          first_name: response.data.first_name,\n          last_name: response.data.last_name\n        };\n        setLoggedInUser(loggedInUserInfoModel);\n        setIsLoggedIn(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n  })\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n      try{\n        const userPhotos = await axios(\n          `http://localhost:8081/api/photo/photosOfUser/${userId}`,{withCredentials: true}\n        );\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n    }catch(er){\n      console.log(er);\n    }\n    };\n     try{\n      fetchData();\n    }catch(er){\n      console.log(er);\n    }\n  },[]);\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  return (\n    <Grid container spacing={2}>\n      {userPhotos.map((photo) => (\n        <Grid item xs={12} md={6} key={photo._id}>\n          <Card>\n            <CardMedia\n              component=\"img\"\n              image={require(`../../images/${photo.file_name}`)}\n              alt={photo.file_name}\n            />\n            <CardContent>\n              <Typography variant=\"body2\">\n                Date: {formatDate(photo.date_time)}\n              </Typography>\n              <Typography variant=\"h6\">Comments: <AddCommentBox photoId={photo._id} userId={loggedInUser.userId}/></Typography> \n              {photo.comments &&\n                photo.comments.map((comment) => (\n                  <div key={comment._id}>\n                    <Typography variant=\"body2\">\n                      {formatDate(comment.date_time)}\n                    </Typography>\n                    <Typography variant=\"body1\">\n                      <Link to={`/users/${comment.user._id}`}>\n                        {`${comment.user.first_name} ${comment.user.last_name}`}\n                      </Link>\n                      : {comment.comment}\n                    </Typography>\n\n                  </div>\n                ))}\n            </CardContent>\n          </Card>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n\nexport default UserPhotos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}