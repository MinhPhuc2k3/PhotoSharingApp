{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebPhotoApp\\\\sandbox\\\\src\\\\components\\\\UserPhotos\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { Grid, Card, CardMedia, CardContent, Typography } from \"@mui/material\";\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserPhotos() {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const userPhotos = await axios(`http://localhost:8081/api/photo/photosOfUser/${userId}`, {\n          withCredentials: true\n        });\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n      } catch (er) {\n        setIsLoggedIn(false);\n        console.log(er);\n      }\n    };\n    fetchData();\n  }, [userPhotos]);\n  const content = () => {\n    const getImage = async () => {\n      for (const photo of userPhotos) {\n        let image;\n        axios.get(`http://localhost:8081/api/photos/${photo._id}`, {\n          withCredentials: true\n        }).then(res => {\n          image = res.data;\n        });\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              component: \"img\",\n              image: image,\n              alt: photo.file_name,\n              sx: {\n                maxHeight: \"500px\",\n                maxWidth: \"500px\",\n                margin: \"auto\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: [\"Date: \", formatDate(photo.date_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: [\"Comments: \", /*#__PURE__*/_jsxDEV(AddCommentBox, {\n                  photoId: photo._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 52\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this), photo.comments && photo.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: formatDate(comment.date_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/users/${comment.user._id}`,\n                    children: `${comment.user.first_name} ${comment.user.last_name}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 25\n                  }, this), \": \", comment.comment]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 23\n                }, this)]\n              }, comment._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, photo._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this);\n      }\n    };\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\"\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  if (isLoggedIn) return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2,\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 7\n  }, this);\n}\n_s(UserPhotos, \"tdIghRet0F/jMjHBQkA4KBnZN0k=\", false, function () {\n  return [useParams];\n});\n_c = UserPhotos;\nexport default UserPhotos;\nvar _c;\n$RefreshReg$(_c, \"UserPhotos\");","map":{"version":3,"names":["Grid","Card","CardMedia","CardContent","Typography","useParams","Link","axios","React","useState","useEffect","AddCommentBox","jsxDEV","_jsxDEV","UserPhotos","_s","userId","userPhotos","setUserPhotos","isLoggedIn","setIsLoggedIn","fetchData","withCredentials","data","er","console","log","content","getImage","photo","image","get","_id","then","res","item","xs","children","component","alt","file_name","sx","maxHeight","maxWidth","margin","fileName","_jsxFileName","lineNumber","columnNumber","variant","formatDate","date_time","photoId","comments","map","comment","to","user","first_name","last_name","dateString","date","Date","options","year","month","day","hour","minute","Intl","DateTimeFormat","format","container","spacing","_c","$RefreshReg$"],"sources":["D:/WebPhotoApp/sandbox/src/components/UserPhotos/index.jsx"],"sourcesContent":["import { Grid, Card, CardMedia, CardContent, Typography } from \"@mui/material\";\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\n\n\n\n\n\n\n\nfunction UserPhotos() {\n  const { userId } = useParams();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n      try {\n        const userPhotos = await axios(\n          `http://localhost:8081/api/photo/photosOfUser/${userId}`, { withCredentials: true }\n        );\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n      } catch (er) {\n        setIsLoggedIn(false);\n        console.log(er);\n      }\n    };\n    fetchData();\n  }, [userPhotos]);\n  const content = () => {\n    const getImage = async()=>{\n      for (const photo of userPhotos) {\n        let image;\n        axios.get(`http://localhost:8081/api/photos/${photo._id}`,{withCredentials:true})\n        .then((res)=>{\n          image = res.data;\n        })\n        return (\n          <Grid item xs={8} key={photo._id}>\n            <Card>\n              <CardMedia\n                component=\"img\"\n                image={image}\n                alt={photo.file_name}\n                sx={{ maxHeight: \"500px\", maxWidth: \"500px\", margin: \"auto\" }}\n              />\n              <CardContent>\n                <Typography variant=\"body2\">\n                  Date: {formatDate(photo.date_time)}\n                </Typography>\n                <Typography variant=\"h6\">Comments: <AddCommentBox photoId={photo._id} /></Typography>\n                {photo.comments &&\n                  photo.comments.map((comment) => (\n                    <div key={comment._id}>\n                      <Typography variant=\"body2\">\n                        {formatDate(comment.date_time)}\n                      </Typography>\n                      <Typography variant=\"body1\">\n                        <Link to={`/users/${comment.user._id}`}>\n                          {`${comment.user.first_name} ${comment.user.last_name}`}\n                        </Link>\n                        : {comment.comment}\n                      </Typography>\n\n                    </div>\n                  ))}\n              </CardContent>\n            </Card>\n          </Grid>\n        )\n      }\n    }\n  }\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  if (isLoggedIn)\n    return (\n      <Grid container spacing={2}>\n        { content}\n\n      </Grid>\n    );\n}\n\nexport default UserPhotos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}