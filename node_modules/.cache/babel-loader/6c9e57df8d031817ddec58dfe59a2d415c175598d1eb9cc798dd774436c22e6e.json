{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebPhotoApp\\\\sandbox\\\\src\\\\components\\\\UserPhotos\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { Grid, Card, CardMedia, CardContent, Typography } from \"@mui/material\";\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserPhotos() {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const userPhotos = await axios(`http://localhost:8081/api/photo/photosOfUser/${userId}`, {\n          withCredentials: true\n        });\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n      } catch (er) {\n        setIsLoggedIn(false);\n        console.log(er);\n      }\n    };\n    fetchData();\n  }, [userPhotos, userId]);\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\"\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  if (isLoggedIn) return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 2,\n    children: userPhotos.map(photo => {\n      let image = null;\n      while (!image) {\n        try {\n          image = require(`../../images/${photo.file_name}`);\n        } catch (er) {}\n      }\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"img\",\n            image: image,\n            alt: photo.file_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"Date: \", formatDate(photo.date_time)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: [\"Comments: \", /*#__PURE__*/_jsxDEV(AddCommentBox, {\n                photoId: photo._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), photo.comments && photo.comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: formatDate(comment.date_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/users/${comment.user._id}`,\n                  children: `${comment.user.first_name} ${comment.user.last_name}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this), \": \", comment.comment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 21\n              }, this)]\n            }, comment._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, photo._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPhotos, \"tdIghRet0F/jMjHBQkA4KBnZN0k=\", false, function () {\n  return [useParams];\n});\n_c = UserPhotos;\nexport default UserPhotos;\nvar _c;\n$RefreshReg$(_c, \"UserPhotos\");","map":{"version":3,"names":["Grid","Card","CardMedia","CardContent","Typography","useParams","Link","axios","React","useState","useEffect","AddCommentBox","jsxDEV","_jsxDEV","UserPhotos","_s","userId","userPhotos","setUserPhotos","isLoggedIn","setIsLoggedIn","fetchData","withCredentials","data","er","console","log","formatDate","dateString","date","Date","options","year","month","day","hour","minute","Intl","DateTimeFormat","format","container","spacing","children","map","photo","image","require","file_name","item","xs","md","component","alt","fileName","_jsxFileName","lineNumber","columnNumber","variant","date_time","photoId","_id","comments","comment","to","user","first_name","last_name","_c","$RefreshReg$"],"sources":["D:/WebPhotoApp/sandbox/src/components/UserPhotos/index.jsx"],"sourcesContent":["import { Grid, Card, CardMedia, CardContent, Typography } from \"@mui/material\";\nimport \"./styles.css\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { React, useState, useEffect } from \"react\";\nimport AddCommentBox from \"./addCommentBox\";\n\n\n\n\n\n\n\nfunction UserPhotos() {\n  const { userId } = useParams();\n  const [userPhotos, setUserPhotos] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n\n    const fetchData = async () => {\n      try{\n        const userPhotos = await axios(\n          `http://localhost:8081/api/photo/photosOfUser/${userId}`,{withCredentials: true}\n        );\n        setUserPhotos(userPhotos.data);\n        setIsLoggedIn(true);\n    }catch(er){\n      setIsLoggedIn(false);\n      console.log(er);\n    }\n    };\n    fetchData();\n  },[userPhotos, userId]);\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    };\n    return new Intl.DateTimeFormat(\"en-US\", options).format(date);\n  };\n  if(isLoggedIn)\n  return (\n    <Grid container spacing={2}>\n      {userPhotos.map((photo) =>{\n        let  image = null;\n        while(!image) {\n          try{\n            image = require(`../../images/${photo.file_name}`);\n          }catch(er){}\n        }\n        return (\n        <Grid item xs={12} md={6} key={photo._id}>\n          <Card>\n            <CardMedia\n              component=\"img\"\n              image={image}\n              alt={photo.file_name}\n            />\n            <CardContent>\n              <Typography variant=\"body2\">\n                Date: {formatDate(photo.date_time)}\n              </Typography>\n              <Typography variant=\"h6\">Comments: <AddCommentBox photoId={photo._id}/></Typography> \n              {photo.comments &&\n                photo.comments.map((comment) => (\n                  <div key={comment._id}>\n                    <Typography variant=\"body2\">\n                      {formatDate(comment.date_time)}\n                    </Typography>\n                    <Typography variant=\"body1\">\n                      <Link to={`/users/${comment.user._id}`}>\n                        {`${comment.user.first_name} ${comment.user.last_name}`}\n                      </Link>\n                      : {comment.comment}\n                    </Typography>\n\n                  </div>\n                ))}\n            </CardContent>\n          </Card>\n        </Grid>\n      )})}\n      \n    </Grid>\n  );\n}\n\nexport default UserPhotos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}